import{d as V,l as k,A as M,n as D,J as c,R as S,m as u,o as t,c as n,t as d,s as i,g as C,aa as q,b as B,v,x as E,F as I,i as w}from"./index-50829d1b.js";import{p as A}from"./base-control-props-3c9ee147.js";const F=["for"],K=["id","type","name","disabled","placeholder","required","autocomplete"],N=["for"],z={key:0,class:"error-message"},J=V({__name:"CDatetimeInput",props:{...A,errorMessage:{type:String,required:!1,default:void 0},modelValue:{type:String,required:!1}},emits:["update:modelValue","blur"],setup(m,{emit:p}){const l=m,f=k(),a=M("");D(()=>{l.modelValue&&(a.value=l.modelValue)}),c(()=>a.value,e=>{a.value=e,p("update:modelValue",e)});function y(e){if((e.key<"0"||e.key>"9")&&e.key!=="/"){e.preventDefault();return}const o=e.target.value.length;o===2&&(a.value+="/"),o===5&&(a.value+="/"),a.value.indexOf("//")>-1&&(a.value=a.value.replaceAll("//","/"))}S(()=>{l.modelValue&&(a.value=l.modelValue)});const r=u(()=>!!l.errorMessage),b=u(()=>r.value?l.errorMessage:""),g=u(()=>!!f.error);async function h(e){const s=e.target,{value:o}=s;p("blur",o)}return c(()=>l.modelValue,e=>{a.value=e}),(e,s)=>(t(),n("div",{class:v(["c-form-control c-input c-datetime-input",{invalid:r.value,bordered:e.bordered}])},[e.label&&e.bordered?(t(),n("label",{key:0,for:e.id,class:"c-form-control-label"},d(e.label),9,F)):i("",!0),C(B("input",{id:e.id,"onUpdate:modelValue":s[0]||(s[0]=o=>a.value=o),type:e.type,class:v(["c-form-control-input",{"not-empty":a.value&&a.value.length>0||e.placeholder&&e.placeholder.length>0,valid:!r.value,invalid:r.value}]),name:e.name,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete,onKeyup:y,onBlur:h},null,42,K),[[q,a.value]]),e.label&&!e.bordered?(t(),n("label",{key:1,for:e.id,class:"c-form-control-label"},d(e.label),9,N)):i("",!0),g.value?E(e.$slots,"errors",{key:2,errorMessage:m.errorMessage},void 0,!0):(t(),n(I,{key:3},[r.value?(t(),n("div",z,d(b.value),1)):i("",!0)],64))],2))}}),T=w(J,[["__scopeId","data-v-65ef3b75"]]);export{T as C};
